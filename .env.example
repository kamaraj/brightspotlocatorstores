# ============================================
# Environment Configuration Template
# Copy this file to .env and fill in your values
# ============================================

# ============================================
# Application Settings
# ============================================
APP_NAME="Childcare Location Intelligence"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=True
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Server
HOST="0.0.0.0"
PORT=8000
WORKERS=4
RELOAD=True  # Set to False in production

# ============================================
# AI & LLM Configuration
# ============================================
# GitHub Models (Free Tier)
GITHUB_TOKEN="ghp_your_github_token_here"
GITHUB_MODELS_BASE_URL="https://models.github.ai/inference"
GITHUB_MODEL_ID="gpt-4.1-mini"  # or gpt-4o, o1-mini, phi-4, etc.

# Alternative: Azure OpenAI (if not using GitHub Models)
# AZURE_OPENAI_API_KEY="your_azure_key"
# AZURE_OPENAI_ENDPOINT="https://your-resource.openai.azure.com"
# AZURE_OPENAI_DEPLOYMENT="gpt-4"
# AZURE_OPENAI_API_VERSION="2024-08-01-preview"

# Alternative: OpenAI Direct (if not using GitHub Models)
# OPENAI_API_KEY="sk-your_openai_key_here"
# OPENAI_MODEL="gpt-4o-mini"

# Agent Configuration
MAX_AGENT_ITERATIONS=10
AGENT_TIMEOUT_SECONDS=120
ENABLE_AGENT_STREAMING=True

# ============================================
# Database Configuration
# ============================================
# MySQL
MYSQL_HOST="localhost"
MYSQL_PORT=3306
MYSQL_USER="childcare_app"
MYSQL_PASSWORD="your_strong_password_here"
MYSQL_DATABASE="childcare_location_db"
MYSQL_DATABASE_URL="mysql+pymysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}"

# Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""  # Leave empty if no password
REDIS_DB=0
REDIS_URL="redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}"

# Cache Settings
CACHE_TTL_SECONDS=3600  # 1 hour
CACHE_ENABLED=True

# ============================================
# ChromaDB (Vector Database)
# ============================================
CHROMA_HOST="localhost"
CHROMA_PORT=8001
CHROMA_COLLECTION_NAME="location_embeddings"
CHROMA_PERSIST_DIRECTORY="./data/chromadb"

# Embedding Model
EMBEDDING_MODEL="all-MiniLM-L6-v2"  # sentence-transformers model

# ============================================
# External API Keys
# ============================================
# Google Maps Platform APIs
GOOGLE_MAPS_API_KEY="your_google_maps_api_key_here"
GOOGLE_PLACES_API_KEY="${GOOGLE_MAPS_API_KEY}"  # Can use same key
GOOGLE_DISTANCE_MATRIX_API_KEY="${GOOGLE_MAPS_API_KEY}"

# U.S. Census Bureau API
CENSUS_API_KEY="your_census_api_key_here"  # Get from https://api.census.gov/data/key_signup.html

# Crime Data (CrimeReports.com API or similar)
CRIME_API_KEY=""  # Optional
CRIME_API_BASE_URL=""

# Environmental Data (EPA API)
EPA_API_KEY=""  # Optional, may not be required

# Real Estate Data (Zillow, Realtor.com, or similar)
REAL_ESTATE_API_KEY=""  # Optional
REAL_ESTATE_API_BASE_URL=""

# ============================================
# Security & Authentication
# ============================================
# JWT Settings
SECRET_KEY="your_super_secret_key_min_32_chars_long_change_in_production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS
CORS_ORIGINS="http://localhost:3000,http://localhost:8000"  # Comma-separated
CORS_ALLOW_CREDENTIALS=True

# Rate Limiting
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=500

# PII Detection
ENABLE_PII_DETECTION=True
PII_ANONYMIZE=True

# ============================================
# Pricing & Billing
# ============================================
FREE_TIER_ANALYSES_PER_WEEK=1
PAID_TIER_PRICE=29  # USD
PRO_TIER_PRICE=99   # USD per month
PREMIUM_TIER_PRICE=299  # USD per month

# ============================================
# Monitoring & Observability
# ============================================
# Prometheus
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=True
GRAFANA_PORT=3000

# Loki (Log Aggregation)
LOKI_ENABLED=True
LOKI_URL="http://localhost:3100"

# OpenTelemetry
OTEL_ENABLED=False
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317"
OTEL_SERVICE_NAME="childcare-location-intelligence"

# Sentry (Error Tracking)
SENTRY_DSN=""  # Optional
SENTRY_ENVIRONMENT="${ENVIRONMENT}"

# ============================================
# Performance & Limits
# ============================================
# Analysis Timeouts
ANALYSIS_TIMEOUT_SECONDS=90
MAX_CONCURRENT_ANALYSES=20

# Data Collection
DATA_COLLECTION_TIMEOUT_SECONDS=30
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_SECONDS=2

# File Uploads
MAX_UPLOAD_SIZE_MB=10
ALLOWED_FILE_EXTENSIONS=".csv,.xlsx,.json"

# ============================================
# Feature Flags
# ============================================
ENABLE_DISCOVERY_MODE=True
ENABLE_COMPARISON_MODE=True
ENABLE_BATCH_ANALYSIS=False  # Premium feature
ENABLE_EXPORT_PDF=True
ENABLE_EXPORT_JSON=True
ENABLE_HISTORICAL_TRACKING=True

# ============================================
# Development & Testing
# ============================================
# Testing
TEST_DATABASE_URL="sqlite:///./test.db"
MOCK_EXTERNAL_APIS=False

# Development
AUTO_RELOAD=True
SHOW_SQL_QUERIES=False

# ============================================
# Deployment
# ============================================
# Docker
COMPOSE_PROJECT_NAME="childcare-location-intelligence"

# SSL/TLS (for production)
SSL_CERT_PATH=""
SSL_KEY_PATH=""
FORCE_HTTPS=False

# Backup
BACKUP_ENABLED=True
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
